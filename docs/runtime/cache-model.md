# Go内存模型

Go编译器为了做一些优化，会对指令集进行重排。

所以由于指令重排，代码就不会一定按照你的写法去执行。举个例子：

有两个goroutine同时对一个数据写，假设goroutine1对这个变量进行写操作w，goroutine2同时对这个变量进行读操作r，那么如果在g2在执行读操作r的时候，已经看到g1写操作w的结果，那么也不意味着g2能看到w之前的其它写入操作。

举个例子：

```

```

